<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div id="app">
    <div class="header">
      <img src="../assets/icons/icon48.png" alt="DeepGuard Logo">
      <h1>DeepGuard</h1>
    </div>

    <div v-if="!isLoggedIn" class="login-container">
      <h2>Login to DeepGuard</h2>
      <form @submit.prevent="handleLogin">
        <input type="email" v-model="email" placeholder="Email" required>
        <input type="password" v-model="password" placeholder="Password" required>
        <button type="submit">Login</button>
      </form>
      <p class="error" v-if="error">{{ error }}</p>
    </div>
    
    <div v-else class="videos-container">
      <h2>Videos Found</h2>
      <p class="subtitle">Select videos to analyze for potential deepfakes</p>
      
      <div v-if="videos.length === 0" class="no-videos">
        No videos found on this page
      </div>

      <div v-else class="video-list">
        <div v-for="video in videos" :key="video.url" class="video-item">
          <input type="checkbox" v-model="video.selected" :id="video.url">
          <label :for="video.url">
            <span class="video-title">{{ video.title }}</span>
            <span class="video-type">{{ video.type }}</span>
          </label>
        </div>
      </div>

      <button 
        @click="sendSelectedVideos" 
        :disabled="!hasSelectedVideos"
        class="analyze-btn">
        Analyze Selected Videos
      </button>

      <div v-if="analyzing" class="status">
        Sending videos for deepfake analysis...
      </div>
    </div>
  </div>
  
  <script src="https://unpkg.com/vue@3"></script>
  <script src="../utils/api.js"></script>
  <script src="popup.js"></script>
</body>
</html> 